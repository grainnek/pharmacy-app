
<head>
    <meta charset="utf-8">
	<title>All Patients</title>
	<link rel="stylesheet" href="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.css" />
	<link rel="stylesheet" type="text/css" href="css/staff.css" />
<script src="http://code.jquery.com/jquery-1.11.1.min.js"></script>
<script src="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script>
	
</head>

<body> 

<!-- Start of first page: #one -->
<div data-role="page" id="one">
<div role="main" class="ui-content">
<h1>List of Patients</h1>
	
	<table class="center" data-mode="reflow" class="ui-responsive">
     <thead>
       <tr>
         <th>Patient ID</th>
         <th>First Name</th>
         <th>Last Name</th>
         <th>DOB</th>   
		 <th>View Full Profile</th>		   
       </tr>
     </thead>
     <tbody>
      {% for row in all %} 	
	<tr>
    <td>{{row.id}}</td>
	<td>{{row.fname}}</td>   
	<td>{{row.lname}}</td>	
	<td>{{row.dob}}</td>	
	<td><button id="{{row.id}}" onClick="view(this.id)"> 
            Full Profile 
        </button></td>
    </tr>
    {% endfor %} 
     </tbody>
   </table>
</div>
</div>

<script>            
          
function view(id) { 
    var selected = id;
	console.log(selected);
	$.post( "/singlepatient", {selected:selected})
	.done(function(data){
		$("#patient").html(data);
		window.location="#two";
		});	
	}
</script>
<!-- Start of first page: #two -->
<div data-role="page" id="two">
<div role="main" class="ui-content">
<div id="patient"></div>
</div>
</div>
</body>
</html>